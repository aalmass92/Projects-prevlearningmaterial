import SimpleHTTPServer
import SocketServer
import struct

PORT = 8000

class TheHandler(SimpleHTTPServer.SimpleHTTPRequestHandler):
    
    def do_GET(s):
        """Respond to a GET request."""
        print 'handling get'
        print s.path
        s.send_response(200)
        s.send_header("Content-type", "application/octet-stream")
        s.end_headers()
        whut = struct.pack("<I",0x45584543)
        s.wfile.write(whut)
        whut = struct.pack("<I",0x1c)
        s.wfile.write(whut)
        whut = struct.pack("28s","C:\Windows\System32\calc.exe")
        s.wfile.write(whut)
        # Continue implemention here
        

if __name__ == '__main__':
    httpd = SocketServer.TCPServer(("localhost", PORT), TheHandler)

    print "serving at port", PORT
    httpd.serve_forever()
